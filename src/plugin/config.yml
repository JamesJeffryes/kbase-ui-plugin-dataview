## YAML Template.
---
package:
    author: Erik Pearson
    name: dataview
    description: Viewers for data object (aka Landing Pages)
    date: August 6, 2015
    version: 0.0.1
source:
    ## sources are relative to build/plugins/PACKAGE/source/javascript
    ## NB: need to quote file names, otherwise 
    modules:
        -
            module: kb_dataview_googlepalette
            file: googlepalette
        -
            module: kb_dataview_widget_panel
            file: panelWidget
            # widget: kb_dataview_panel
        -
            module: kb_dataview_widget_provenance
            file: widgets/provenanceWidget
            # widget: kb_dataview_provenance
        #-
        #    module: kb_widget_dataview_download
       #     file: widgets/kbaseDownloadPanel
        #    widget: kb_dataview_download
        #-
        #    module: kb_widget_dataview_base
        #    file: widgets/DataviewWidget
        -
            module: kb_dataview_widget_overview
            file: widgets/OverviewWidget
            # widget: kb_dataview_overview
        -
            module: kb_dataview_dataObjectVisualizer
            file: widgets/dataObjectVisualizer
        
        -
            module: kb_dataview_widget_contigSet
            file: widgets/contigset/kbaseContigSetView
            
        # MODELING
        -
            module: kb_dataview_widget_modeling_tabTable
            file: widgets/modeling/kbaseTabTable            
        -
            module: kb_dataview_widget_modeling_objects
            file: widgets/modeling/KBObjects
        -
            module: kb_dataview_widget_modeling_biochem_media
            file: widgets/modeling/KBaseBiochem.Media
        -
            module: kb_dataview_widget_modeling_fba_fba
            file: widgets/modeling/KBaseFBA.FBA
        -
            module: kb_dataview_widget_modeling_fba_fbaModel
            file: widgets/modeling/KBaseFBA.FBAModel
        -
            module: kb_dataview_widget_modeling_phenotypSet
            file: widgets/modeling/KBasePhenotypes.PhenotypeSet
            
        # ASSEMBLY
        -
            module: kb_dataview_assembly_singleObjectBasic
            file: widgets/assembly/kbaseSingleObjectBasicWidget
        -
            module: kb_dataview_assembly_assemblyInput
            file: widgets/assembly/kbaseAssemblyInput
        -
            module: kb_dataview_assembly_pairedEndLibrary
            file: widgets/assembly/kbasePairedEndLibrary
        -
            module: kb_dataview_assembly_referenceAssembly
            file: widgets/assembly/kbaseReferenceAssembly
        # GENOMES
        -
            module: kb_dataview_widget_genome_genomeComparison
            file: widgets/protcmp/kbaseGenomeComparisonViewer
        # GENOME COMPARISON
        -
            module: kb_dataview_genomeComparison_proteomeComparison
            file: widgets/protcmp/kbaseGenomeComparison
        # COMMUNITIES
        -
            module: kb_dataview_communities_graph
            file: widgets/communities/kbStandaloneGraph
        -
            module: kb_dataview_communities_plot
            file: widgets/communities/kbStandalonePlot
        -
            module: kb_dataview_communities_heatmap
            file: widgets/communities/kbStandaloneHeatmap
        -
            module: kb_dataview_communities_abundanceDataHeatmap
            file: widgets/communities/kbaseAbundanceDataHeatmap
        -
            module: kb_dataview_communities_metagenome
            file: widgets/communities/kbaseMetagenomeView
        -
            module: kb_dataview_communities_jquerySvg
            file: widgets/communities/jquery.svg            
        -
            module: kb_dataview_communities_functionalMatrix
            file: widgets/communities/kbaseAbundanceDataView
        -
            module: kb_dataview_widget_communities_collection
            file: widgets/communities/kbaseCollectionView
        -
            module: kb_dataview_communities_functionalProfile
            file: widgets/communities/kbaseAbundanceDataView
            
        
install:
    widgets:
        -
            module: kb_dataview_widget_panel
            id: kb_dataview_panel
            type: factory
        -
            module: kb_dataview_widget_overview
            id: kb_dataview_overview
            type: factory
        -
            module: kb_dataview_widget_provenance
            id: kb_dataview_provenance
            type: factory
        -
            module: kb_dataview_dataObjectVisualizer
            id: kb_dataview_dataObjectVisualizer
            type: factory
        -
            module: kb_dataview_widget_communities_collection
            id: kb_dataview_communities_collection
            type: kbwidget
        -
            module: kb_dataview_widget_contigSet
            id: kb_dataview_contigSet
            type: kbwidget
        # MODELING
        -
            module: kb_dataview_widget_modeling_tabTable
            id: kb_dataview_biochem_media
            type: kbwidget
        -
            module: kb_dataview_widget_modeling_tabTable
            id: kb_dataview_fba
            type: kbwidget
        -
            module: kb_dataview_widget_modeling_tabTable
            id: kb_dataview_fbaModel
            type: kbwidget
        -
            module: kb_dataview_widget_modeling_phenotypSet
            id: kb_dataview_phenotypeSet
            type: kbwidget
            
            
        # ASSEMBLY
        -
            module: kb_dataview_assembly_assemblyInput
            id: kb_dataview_assemblyInput
            type: kbwidget
        -
            module: kb_dataview_assembly_pairedEndLibrary
            id: kb_dataview_pairedEndLibrary
            type: kbwidget
        -
            module: kb_dataview_assembly_referenceAssembly
            id: kb_dataview_referenceAssembly
            type: kbwidget
        # GENOMES
        -
            module: kb_dataview_widget_genome_genomeComparison
            id: kb_dataview_genomeComparison
            type: kbwidget
            
        # GENOME COMPARISON
        -
            module: kb_dataview_genomeComparison_proteomeComparison
            id: kb_dataview_proteomeComparison
            type: kbwidget
            
        # COMMUNINITIES
        
        -
            module: kb_dataview_communities_functionalMatrix
            id: kb_dataview_functionalMatrix
            type: kbwidget
        -
            module: kb_dataview_communities_metagenome
            id: kb_dataview_metagenome
            type: kbwidget
        -
            module: kb_dataview_communities_functionalProfile
            id: kb_dataview_functionalProfile
            type: kbwidget
        -
            module: kb_dataview_communities_abundanceDataHeatmap
            id: kb_dataview_abundanceDataHeatmap
            type: kbwidget
        
    routes:
        -
            path: 
                - 
                    dataview
                -
                    type: param
                    name: workspaceId
                -
                    type: param
                    name: objectId
            queryParams:
                sub: {}
                subid: {}            
            widget: kb_dataview_panel
        -
            path: ['dataview', {type: param, name: workspaceId}, {type: param, name: objectId}, {type: param, name: objectVersion}]
            queryParams:
                sub: {}
                subid: {}            
            widget: kb_dataview_panel
    types:
        -
            type: 
                module: Communities
                name:   Collection
                version: any
            icon: 
                type: fontAwesome
                classes: ['fa-list-ul']
            viewers:
                -
                    # if set true, this will be set as the default vis widget for this type.
                    default: true
                    # This the title for the widget
                    title: 'Data View 3'                
                    # This is the widget id name as specified in the plugin
                    # it should follow standard namespacing. It should also be 
                    # defined above in the modules.
                    # module: kb_widget_dataview_communities_collection
                    # This is the registered widget id. The mapping of widget
                    # to module is probably made above.
                    widget: 
                        name: kb_dataview_communities_collection
                        config: 
                            jqueryName: CollectionView

                    jqueryWidget: CollectionView
                    # If a bootstrap panel is requested to wrap this widget.
                    panel: true
                    # Mapping of standard options to the widget option properties.
                    # By standard, I mean those defined in the GenericVisualizer widget.
                    options:
                        -
                            from: workspaceId
                            to: ws
                        -
                            from: objectId
                            to: id
        
        -
            type: 
                module: Communities
                name:   Heatmap
                version: any
            icon:   
                type: fontAwesome
                classes: ['fa-th']
            viewers:
                -
                    name: Data View
                    widget: 
                        name: kb_dataview_abundanceDataHeatmap
                        config:
                            jqueryName: AbundanceDataHeatmap
                    options:
                        -
                            from: workspaceId
                            to: ws
                        -
                            from: objectId
                            to: id
                            
        # GENOMES
        
        -
            type:
                module: KBaseGenomes
                name: ContigSet
                version: any
            icon: 
                type: fontAwesome
                classes: ['fa-align-justify']
            viewers:
                -
                    title: Data View
                    widget: 
                        name: kb_dataview_contigSet
                        config:
                            jqueryName: kbaseContigSetView
                    panel: true
                    options: 
                        -
                            from: workspaceId 
                            to: ws_name
                        -
                            from: objectId
                            to: ws_id
                        -
                            from: objectVersion
                            to: ver 
                            optional: true
        # TYPES DEFINED IN MODELING WIDGETS
        -
            type:
                module: KBasePhenotypes
                name: PhenotypeSet
                version: any
            icon:   
                type: fontAwesome
                classes: ['fa-list-ul']
            viewers:
                -
                    title: Data View
                    widget:
                        name: kb_dataview_phenotypeSet
                        config:
                            jqueryName: kbaseTabTable
                    panel: true
                    options: 
                        -
                            from: workspaceName 
                            to: ws
                        -
                            from: objectName 
                            to: obj
                        -
                            from: objectType 
                            to: type
        -
            type:
                module: Communities
                name: FunctionalMatrix
                version: any
            icon:   
                type: fontAwesome
                classes: ['fa-table']
            viewers:
                -
                    title: Data View
                    widget:
                        name: kb_dataview_functionalMatrix
                        config:
                            jqueryName: AbundanceDataView
                    panel: true
                    options: 
                        -
                            from: workspaceId
                            to: ws
                        -
                            from: objectId
                            to: id  
                            
        -
            type:
                module: Communities
                name: Metagenome
                version: any 
            icon:   
                type: kbase
                classes: ['icon-metagenome', 'kb-data-icon-dnudge']
            viewers:
                -
                    title: Data View
                    widget:
                        name: kb_dataview_metagenome
                        config:
                                jqueryName: MetagenomeView
                    panel: true
                    options:
                        -
                            from: workspaceId
                            to: ws
                        -
                            from: objectId
                            to: id            
        -
            type:
                module: Communities
                name: FunctionalProfile
                version: any
            viewers:
                -
                    title: Data View
                    widget:
                        name: kb_dataview_functionalProfile
                        config:
                            jqueryName: AbundanceDataView
                    panel: true
                    options: 
                        -
                            from: workspaceId
                            to: ws
                        -
                            from: objectId
                            to: id                                    
        # GENOME COMPARISON
        - 
            type:
                module: GenomeComparison
                name: ProteomeComparison
                version: any
            icon:   
                type: fontAwesome
                classes: ['fa-arrows-h']
            viewers:
                -
                    title: Data View
                    widget:
                        name: kb_dataview_proteomeComparison
                        config:
                            jqueryName: GenomeComparisonWidget
                    panel: true
                    options:
                        -
                            from: workspaceId
                            to: ws_name
                        -
                            from: objectId
                            to: ws_id
        # ASSEMBLY
        -
            type:
                module: KBaseAssembly
                name: AssemblyInput
                version: any
            icon: 
                type: kbase
                classes: ['icon-reads', 'kb-data-icon-dnudge']  
            viewers:
                -
                    title: Data View
                    widget:
                        name: kb_dataview_assemblyInput
                        config:
                            jqueryName: kbaseAssemblyInput
                    panel: true
                    options:
                        -
                            from: workspaceId
                            to: workspaceId
                        - 
                            from: objectId
                            to: objId
                        -
                            from: objectVersion
                            to: objVer
                            optional: true
        -
            type:
                module: KBaseAssembly
                name: PairedEndLibrary
                version: any
            icon:   
                type: kbase
                classes: ['icon-reads', 'kb-data-icon-dnudge']
            viewers:
                -
                    title: Data View
                    widget:
                        name: kb_dataview_pairedEndLibrary
                        config:
                            jqueryName: kbasePairedEndLibrary
                    panel: true
                    options:
                        -
                            from: workspaceId
                            to: workspaceId
                        -    
                            from: objectId
                            to: objId
                        -    
                            from: objectVersion
                            to: objVer
                            optional: true
        -
            type:
                module: KBaseAssembly
                name: ReferenceAssembly
                version: any
            viewers:
                -
                    title: Data View
                    widget:
                        name: kb_dataview_referenceAssembly
                        config:
                            jqueryName: kbaseReferenceAssembly
                    panel: true
                    options:
                        -
                            from: workspaceId
                            to: workspaceId
                        -    
                            from: objectId
                            to: objId
                        -    
                            from: objectVersion
                            to: objVer
                            optional: true
                            
        # BIOCHHEM
        -
            type:
                module: KBaseBiochem
                name: Media
                version: any
            icon:   
                type: fontAwesome
                classes: ['fa-flask']
            viewers:
                -
                    title: Data View
                    widget:
                        name: kb_dataview_biochem_media
                        config:
                            jqueryName: kbaseTabTable
                    panel: true
                    options: 
                        -
                            from: workspaceName 
                            to: ws
                        -
                            from: objectName 
                            to: obj
                        -
                            from: objectType 
                            to: type
                            